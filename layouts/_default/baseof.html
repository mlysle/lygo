<!doctype html>
<html lang="{{ .Site.Language }}">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <link rel="stylesheet" href="/css/style.css" type="text/css" media="all" /> -->
    {{ with resources.Get "sass/main.scss" }}
      {{ $opts := dict
        "enableSourceMap" hugo.IsDevelopment
        "outputStyle" (cond hugo.IsDevelopment "expanded" "compressed")
        "targetPath" "css/main.css"
        "transpiler" "dartsass"
        "vars" site.Params.styles
        "includePaths" (slice "node_modules/bootstrap/scss")
      }}
      {{ with . | toCSS $opts }}
        {{ if hugo.IsDevelopment }}
          <link rel="stylesheet" href="{{ .RelPermalink }}">
        {{ else }}
          {{ with . | fingerprint }}
            <link
              rel="stylesheet"
              href="{{ .RelPermalink }}"
              integrity="{{ .Data.Integrity }}"
              crossorigin="anonymous"
            >
          {{ end }}
        {{ end }}
      {{ end }}
    {{ end }}
    {{ if .Param "math" }}
      {{ partialCached "math.html" . }}
    {{ end }}
    <!-- <link rel="stylesheet" href="/css/syntax.css"> -->
  </head>
  <body>
    <header>
      {{ partial "header.html" . }}
    </header>
    <main>
      {{ block "main" . }}{{ end }}
    </main>
    <!-- {{ partial "footer.html" . }} -->
  </body>
</html>
